<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script src="api.js"></script>
    <script src="script.js" defer></script>
    <title>Conference Management System</title>
</head>
<body>

<!-- Preloader -->
<div id="loader-wrapper">
    <div id="loader"></div>
</div>

<!-- Navigation Menu -->
<div id="menu" class="w3-bar w3-xlarge">
    <a class="w3-bar-item w3-button w3-ripple w3-left" onclick="openTab('.menu-tab', 'home-tab')">HOME</a>
<!--    <a v-if="authenticated" class="w3-bar-item w3-button w3-ripple" onclick="openTab('profile-tab')">Profile</a>-->
    <a v-if="authenticated" class="w3-bar-item w3-button w3-ripple w3-left" onclick="openTab('.menu-tab', 'dashboard-tab')">Dashboard</a>
    <a v-if="authenticated" class="w3-bar-item w3-button w3-ripple w3-round-large w3-left" @click.prevent="showAddConference" style="border: 1px solid var(--text-color)">Add Conference <span class="icon material-icons md-24">add_circle_outline</span></a>
    <a v-if="authenticated" class="w3-bar-item w3-button w3-ripple w3-right" @click.prevent="logout">Sign Out</a>
    <a v-if="authenticated" class="w3-bar-item w3-right w3-text-grey">&#8226;{{username}}&#8226;</a>
    <a v-if="!authenticated" class="w3-bar-item w3-button w3-ripple w3-right" @click.prevent="showLogin">Sign In</a>
</div>

<!-- Home Page Tab -->
<div id="home-tab" class="menu-tab">
    <!-- Presentation Card/Title -->
    <div id="" class="presentation w3-container w3-display-container">
        <div class="w3-auto">
            <h1 class="w3-jumbo w3-display-middle w3-center w3-wide">CONFERENCE MANAGEMENT SYSTEM</h1>
        </div>
    </div>

    <!-- Upcoming Conferences Heading -->
    <div class="w3-container">
        <h1 class="heading w3-panel w3-border w3-bottombar w3-round-xxlarge w3-center w3-wide">Upcoming Conferences</h1>
    </div>

    <!-- Conferences Section -->
    <div class="w3-container">
        <div v-for="conference in conferences">
            <!-- Conference Details Card -->
            <div class="w3-panel">
                <div class="w3-card w3-round-large w3-leftbar w3-display-container w3-hover-shadow">
                    <span class="conference-name w3-padding w3-wide w3-block w3-xlarge">{{conference.title}}</span>
                    <div class="w3-bar">
                        <div class="w3-bar-item">
                            <article class="conference-details-primary w3-large">{{conference.description}}</article>
                            <section class="conference-details-secondary w3-small">Location: <span>{{conference.location}}</span></section>
                            <!-- <section class="conference-details-secondary w3-small">Date: <span>{{conference.date}}</span></section> -->
                            <section class="conference-details-secondary w3-small">Fee: <span>${{conference.fee}}</span></section>
                            <section class="conference-details-secondary w3-small w3-display-bottomleft w3-margin">
                                Want to propose a paper?
                                <a href="#" v-on:click="showSubmissionModal(conference.id)">Click here!</a>
                            </section>
                        </div>
                        <button class="cms-button w3-button w3-large w3-container w3-bar-item w3-right w3-padding-64 w3-margin" v-on:click="showConfirmJoinModal(conference.id, conference.title)">
                            Get a ticket
                            <p class="conference-details-secondary w3-tiny w3-margin-0 w3-center">
                                Deadline: {{new Date(conference.date).toDateString()}}
                            </p>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Profile Page Tab -->
<div id="profile-tab" class="menu-tab">
    <header class="presentation w3-container">
        <h1 class="w3-jumbo">Profile</h1>
    </header>
</div>

<!-- Dashboard Page Tab -->
<div id="dashboard-tab" class="menu-tab">
    <header class="presentation w3-container">
        <h1 class="w3-jumbo">Dashboard</h1>
    </header>


    <!-- Dashboard Menu -->
    <div id="dashboard-menu" class="w3-sidebar w3-bar-block w3-large w3-cell">
        <button class="w3-bar-item w3-button w3-ripple w3-center w3-padding-32" onclick="openTab('.dashboard-content-tab', 'dashboard-conferences-tab')">My Conferences <span style="float: right">&#10095;</span></button>
        <button class="w3-bar-item w3-button w3-ripple w3-center w3-padding-32" onclick="openTab('.dashboard-content-tab', 'dashboard-papers-tab')">My Papers <span style="float: right">&#10095;</span> </button>
        <button class="w3-bar-item w3-button w3-ripple w3-center w3-padding-32" onclick="openTab('.dashboard-content-tab', 'dashboard-timeline-tab')">Timeline <span style="float: right">&#10095;</span> </button>
    </div>

    <!-- My Conferences Section -->
    <div id="dashboard-conferences-tab" class="dashboard-content-tab w3-container w3-cell">
        <h2 class="w3-container w3-xxlarge">My Conferences</h2>

        <!-- Listener -->
        <h3 class="w3-container w3-xlarge">Listener</h3>
        <div v-if="conferences.listener && conferences.listener.length === 0" class="w3-container w3-small w3-margin-left">You are not attending any conference</div>
        <div v-for="conference in conferences.listener">
            <!-- My Conference Details Card -->
            <div class="w3-panel w3-margin-left">
                <div class="w3-card w3-round-large w3-leftbar w3-display-container w3-hover-shadow">
                    <h3 class="conference-name w3-padding w3-wide">{{conference.title}}</h3>
                    <div class="w3-bar">
                        <div class="w3-bar-item">
                            <article class="conference-details-primary w3-large">{{conference.description}}</article>
                            <section class="conference-details-secondary w3-small">Location: <span>{{conference.location}}</span></section>
                            <section class="conference-details-secondary w3-small">Date: <span>{{new Date(conference.date).toDateString()}}</span></section>
                        </div>

                        <!-- Sections in the conference dropdown -->
                        <div class="w3-padding">
                            <label class="w3-bar">
                            <span class="">
                                Select the sections you wish to attend
                            </span>
                                <select :id="'selected-section'+conference.id" class="w3-select" style="max-width:50% !important; width:auto;">
                                    <option default value="yolo" style="font-style: italic">~No section selected~</option>
                                    <option v-for="section in conference.sections" :value="section.id">{{section.title}}</option>
                                </select>
                                <button v-on:click="joinSection(conference.id)" type="button" class="cms-button w3-button w3-rest">Add</button>
                            </label>
                        </div>

                        <!-- Selected Sections List -->
                        <table class="w3-table w3-striped">
                            <tr>
                                <th>Section name</th>
                                <th>From</th>
                                <th>To</th>
                            </tr>
                            <tr v-for="section in selectedSections[conference.id]">
                                <td>{{section.title}}</td>
                                <td class="w3-pale-grey">{{new Date(section.start).toLocaleString()}}</td>
                                <td class="w3-pale-grey">{{new Date(section.end).toLocaleString()}}</td>
                            </tr>
                        </table>



                    </div>
                </div>
            </div>
        </div>

        <!-- Steering -->
        <h3 class="w3-container w3-xlarge">Steering</h3>
        <div v-if="conferences.steeringCommittee && conferences.steeringCommittee.length === 0" class="w3-container w3-small w3-margin-left">You are not steering any conference</div>
        <div v-for="conference in conferences.steeringCommittee">
            <!-- My Conference Details Card -->
            <div class="w3-panel w3-margin-left">
                <div class="w3-card w3-round-large w3-leftbar w3-display-container w3-hover-shadow">
                    <h3 class="conference-name w3-padding w3-wide">{{conference.title}}</h3>
                    <div class="w3-bar">
                        <div class="w3-bar-item">
                            <article class="conference-details-primary w3-large">{{conference.description}}</article>
                            <section class="conference-details-secondary w3-small">Location: <span>{{conference.location}}</span></section>
                            <section class="conference-details-secondary w3-small">Date: <span>{{new Date(conference.date).toDateString()}}</span></section>
                        </div>
                        <button class="cms-button-inversed w3-button w3-large w3-container w3-bar-item w3-right w3-padding w3-margin" v-on:click="deleteConference()">
                            Delete
                        </button>
                        <button class="cms-button w3-button w3-large w3-container w3-bar-item w3-right w3-padding w3-margin" v-on:click="showEditConferenceModal(conference)">
                            Edit
                        </button>
                        <button class="cms-button w3-button w3-large w3-container w3-bar-item w3-right w3-padding w3-margin" v-on:click="showViewProposalsModal(conference)">
                            View Papers
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- My papers Section -->
    <div id="dashboard-papers-tab" class="dashboard-content-tab w3-container w3-cell">
        <h2 class="w3-container w3-xxlarge">My Papers</h2>
        <h3 class="w3-container w3-xlarge">Proposed</h3>
        <!-- TODO: rename proposal to something more suggestive (here it's a list of conferences that contain information about proposals) -->
        <div v-for="conference in submittedProposals">
            <!-- My Papers On Conference Details Card -->
            <div class="w3-panel w3-margin-left">
                <div class="w3-card w3-round-large w3-leftbar w3-display-container w3-hover-shadow">
                    <h3 class="conference-name w3-padding w3-wide">{{conference.title}}</h3>
                    <!-- Papers List -->
                    <div v-for="proposal in conference.proposals">
                        <div class="w3-bar">
                            <div class="w3-bar-item">
                                <article class="conference-details-primary w3-large">{{proposal.title}}</article>
                            </div>
                            <button class="cms-button w3-button w3-large w3-container w3-bar-item w3-right w3-padding w3-margin" v-on:click="showEditProposalModal(proposal)">
                                Edit
                            </button>
                            <button class="cms-button w3-button w3-large w3-container w3-bar-item w3-right w3-padding w3-margin" v-on:click="showReviewsModal(proposal)">
                                Show reviews
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <h3 class="w3-container w3-xlarge">Reviewing</h3>

        <!-- TODO: rename proposal to something more suggestive (here it's a list of conferences that contain information about proposals) -->
        <div v-for="conference in reviewingProposals">
            <!-- My Papers On Conference Details Card -->
            <div class="w3-panel w3-margin-left">
                <div class="w3-card w3-round-large w3-leftbar w3-display-container w3-hover-shadow">
                    <h3 class="conference-name w3-padding w3-wide">{{conference.title}}</h3>
                    <!-- Papers List -->
                    <div v-for="proposal in conference.proposals">
                        <div class="w3-bar">
                            <div class="w3-bar-item">
                                <article class="conference-details-primary w3-large">{{proposal.title}}</article>
                            </div>
                            <button v-if="isReviewingPhase(conference)" class="cms-button w3-button w3-large w3-container w3-bar-item w3-right w3-padding w3-margin" v-on:click="showReviewProposalModal(proposal)">
                                Review
                            </button>
                            <button v-else class="cms-button w3-button w3-large w3-container w3-bar-item w3-right w3-padding w3-margin" v-on:click="showReviewsModal(proposal)">
                                Show reviews
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Timeline Section -->
    <div id="dashboard-timeline-tab" class="dashboard-content-tab w3-container w3-cell" style="display: none">
        <h2 class="w3-container w3-xxlarge">Timeline</h2>

        <div id="timeline-container">
            <div class="inner-container w3-center">
                <h2 class="w3-center">Schedule</h2>
                <ul class="timeline">
                    <div v-for="section in sections">
                        <li class="timeline-item" :data-date="new Date(section.start).toLocaleString()">{{section.conference.title}} - {{section.title}}</li>
                    </div>
                </ul>
            </div>
        </div>
    </div>


</div>

<!-- Login Modal -->
<div id="login-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container presentation">
            <span onclick="document.getElementById('login-modal').style.display='none'" class="cms-button w3-button w3-display-topright w3-round-large">&times;</span>
            <h1>Sign In</h1>
        </header>

        <form class="w3-container w3-margin-top" @submit.prevent="login">
            <label>
                <span>Username</span>
                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Username" v-model="username" required>
            </label>

            <label>
                <span>Password</span>
                <input type="password" class="w3-input w3-margin-bottom" placeholder="Enter Password" v-model="password" required>
            </label>

            <button type="submit" class="w3-button w3-margin-bottom w3-bar w3-section w3-round-large">Sign In</button>
        </form>

        <footer class="w3-container">
            <p class="w3-tiny"> Don't have account? <a href="#" onclick="document.getElementById('login-modal').style.display='none'; document.getElementById('signup-modal').style.display='block'">Create a new one!</a></p>
        </footer>
    </div>
</div>

<!-- New Account Modal -->
<div id="signup-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container presentation">
            <span onclick="document.getElementById('signup-modal').style.display='none'" class="cms-button w3-button w3-display-topright w3-round-large">&times;</span>
            <h1>New Account</h1>
        </header>

        <form class="w3-container w3-margin-top" @submit.prevent="register">
            <label class="w3-padding-top">
                <span>First Name</span>
                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter First Name" required>
            </label>

            <label>
                <span>Last Name</span>
                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Last Name" required>
            </label>

            <label>
                <span>Username</span>
                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Username" v-model="username" required>
            </label>

            <label>
                <span>Email Address</span>
                <input type="email" class="w3-input w3-margin-bottom" placeholder="Enter Email" v-model="email" required>
            </label>

            <label>
                <span>Password</span>
                <input type="password" class="w3-input w3-margin-bottom" placeholder="Enter Password" v-model="password1" required>
            </label>

            <label>
                <span>Confirm Password</span>
                <input type="password" class="w3-input w3-margin-bottom" placeholder="Confirm Password" v-model="password2" required>
            </label>

            <button type="submit" class="w3-button w3-margin-bottom w3-bar w3-section w3-round-large">Register</button>
        </form>
    </div>
</div>

<!-- Submit Proposal Modal -->
<div id="submit-proposal-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container presentation">
            <span onclick="document.getElementById('submit-proposal-modal').style.display='none'" class="cms-button w3-button w3-display-topright w3-round-large">&times;</span>
            <h1>Submit Proposal</h1>
        </header>

        <form class="w3-container w3-margin-top">
            <label>
                <span>Title</span>
                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Proposal Title" v-model="title" required>
            </label>

            <label>
                <span>Keywords</span>
                <span class="w3-block">
                    <div v-for='(tag, index) in keywords_list' :key='tag' class="tag w3-tag w3-round-xxlarge">
                        <span @click='removeTag(index, keywords_list)'>x</span>
                        {{ tag }}
                    </div>
                </span>

                <input type="text" class="w3-input w3-margin-bottom" @focus='hideDiv("SubmitProposalModal_Keywords_Div")' @blur='checkIfEmpty($event,"SubmitProposalModal_Keywords_Div")' placeholder="Enter Keywords" @keydown.enter='addTag($event, keywords_list)' @keydown.delete='removeLastTag($event, keywords_list)'>
                <!-- TODO: make this look better with css -->
                <div id="SubmitProposalModal_Keywords_Div" class="hidden">
                    <p>Please press enter to add</p>
                </div>
            </label>

            <label>
                <span>Topics</span>
                <span class="w3-block">
                    <div v-for='(tag, index) in topics_list' :key='tag' class="tag w3-tag w3-round-xxlarge">
                        <span @click='removeTag(index, topics_list)'>x</span>
                        {{ tag }}
                    </div>
                </span>

                <input type="text" class="w3-input w3-margin-bottom" @focus='hideDiv("SubmitProposalModal_Keywords_Div")' @blur='checkIfEmpty($event,"SubmitProposalModal_Keywords_Div")' placeholder="Enter Topics" @keydown.enter='addTag($event, topics_list)' @keydown.delete='removeLastTag($event, topics_list)'>
                <!-- TODO: make this look better with css -->
                <div id="SubmitProposalModal_Topics_Div" class="hidden">
                    <p>Please press enter to add</p>
                </div>
            </label>

            <label>
                <span>Co-authors (if any)</span>
                <span class="w3-block">
                    <div v-for='(tag, index) in authors_list' :key='tag' class="tag w3-tag w3-round-xxlarge">
                        <span @click='removeTag(index, authors_list)'>x</span>
                        {{ tag }}
                    </div>
                </span>

                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Co-authors" @keydown.enter='addTag($event, authors_list)' @keydown.delete='removeLastTag($event, authors_list)'>
            </label>

            <label>
                <span>Abstract</span>
                <input type="file" class="w3-input w3-margin-bottom" id="upload-abstract" v-on:change="abstractUpload()" required>
            </label>

            <label>
                <span>Paper (PDF)</span>
                <input type="file" class="w3-input w3-margin-bottom" id="upload-paper" v-on:change="paperUpload()" required>
            </label>
        </form>

        <footer class="w3-container w3-footer w3-row">
            <button type="button" class="w3-button w3-bar w3-half" onclick="document.getElementById('submit-proposal-modal').style.display='none'">Cancel</button>
            <button type="button" class="w3-button w3-bar w3-half" v-on:click="submitProposal()">Submit</button>
            <!-- Loader for file upload-->
            <div id="upload-progress" class="slider w3-bar w3-bottom w3-hide">
                <div class="line"></div>
                <div class="subline inc"></div>
                <div class="subline dec"></div>
            </div>
        </footer>
    </div>
</div>

<!-- Confirm Conference Join Modal -->
<div id="join-conference-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container presentation">
            <span class="cms-button w3-button w3-display-topright w3-round-large" onclick="hideModal('join-conference-modal')">&times;</span>
            <h1>{{title}}</h1>
        </header>

        <p class="w3-container w3-auto w3-large">Are you sure you want to register to this conference?</p>

        <footer class="w3-container w3-footer w3-row">
            <button type="button" class="w3-button w3-bar w3-half" onclick="hideModal('join-conference-modal')">Cancel</button>
            <button type="button" class="w3-button w3-bar w3-half" v-on:click="joinConference()">Get ticket!</button>
        </footer>
    </div>
</div>

<!-- Add Conference Modal -->
<div id="add-conference-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container presentation">
            <span onclick="document.getElementById('add-conference-modal').style.display='none'" class="cms-button w3-button w3-display-topright">&times;</span>
            <h1>Create New Conference</h1>
        </header>

        <form class="w3-container w3-margin-top">

            <!-- Conference Title -->
            <label class="w3-padding-top">
                <span>Conference Title</span>
                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Conference Title" v-model="title" required>
            </label>

            <!-- Conference Description -->
            <label class="w3-padding-top">
                <span>Conference Description</span>
                <textarea class="w3-input w3-margin-bottom" placeholder="Enter Conference Description" v-model="description" required></textarea>
            </label>

            <!-- Conference Date -->
            <label class="w3-padding-top">
                <span>Date</span>
                <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="date" required>
            </label>

            <!-- Conference Location -->
            <label class="w3-padding-top">
                <span>Location</span>
                <input type="text" class="w3-input w3-margin-bottom" v-model="location" required>
            </label>

            <!-- Attending Fee -->
            <label class="w3-padding-top">
                <span>Fee</span>
                <input type="number" class="w3-input w3-margin-bottom" v-model="fee" required>
            </label>

            <!-- Abstract Deadline -->
            <label class="w3-padding-top">
                <span>Abstract Deadline</span>
                <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="abstractDeadline" required>
            </label>

            <!-- Proposal Deadline -->
            <label class="w3-padding-top">
                <span>Proposal Deadline</span>
                <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="proposalDeadline" required>
            </label>

            <!-- Bidding Deadline -->
            <label class="w3-padding-top">
                <span>Bidding Deadline</span>
                <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="biddingDeadline" required>
            </label>

            <!-- Reviewing Deadline -->
            <label class="w3-padding-top">
                <span>Reviewing Deadline</span>
                <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="reviewingDeadline" required>
            </label>

            <footer class="w3-container w3-footer w3-row">
                <button type="button" class="w3-button w3-half" onclick="document.getElementById('add-conference-modal').style.display='none'">Cancel</button>
                <button type="button" class="w3-button w3-half" v-on:click="createConference">Create</button>
            </footer>
        </form>

    </div>
</div>

<!-- Edit Conference Modal -->
<div id="edit-conference-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4 w3-margin-bottom">
        <header class="w3-container presentation">
            <span onclick="document.getElementById('edit-conference-modal').style.display='none'" class="cms-button w3-button w3-display-topright">&times;</span>
            <h1>Edit Conference</h1>
        </header>

        <form class="w3-container w3-margin-top">

            <!-- Conference Details -->
            <h4>Conference details</h4>
            <div class="w3-margin-left">

                <!-- Conference Title -->
                <label class="w3-padding-top">
                    <span>Conference Title</span>
                    <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Conference Title" v-model="title" required>
                </label>

                <!-- Conference Description -->
                <label class="w3-padding-top">
                    <span>Conference Description</span>
                    <textarea class="w3-input w3-margin-bottom" placeholder="Enter Conference Description" v-model="description" required></textarea>
                </label>

                <!-- Conference Date -->
                <label class="w3-padding-top">
                    <span>Date</span>
                    <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="date" required>
                </label>

                <!-- Conference Location -->
                <label class="w3-padding-top">
                    <span>Location</span>
                    <input type="text" class="w3-input w3-margin-bottom" v-model="location" required>
                </label>

                <!-- Attending Fee -->
                <label class="w3-padding-top">
                    <span>Fee</span>
                    <input type="number" class="w3-input w3-margin-bottom" v-model="fee" required>
                </label>

                <!-- Abstract Deadline -->
                <label class="w3-padding-top">
                    <span>Abstract Deadline</span>
                    <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="abstractDeadline" required>
                </label>

                <!-- Proposal Deadline -->
                <label class="w3-padding-top">
                    <span>Proposal Deadline</span>
                    <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="proposalDeadline" required>
                </label>

                <!-- Bidding Deadline -->
                <label class="w3-padding-top">
                    <span>Bidding Deadline</span>
                    <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="biddingDeadline" required>
                </label>

                <!-- Reviewing Deadline -->
                <label class="w3-padding-top">
                    <span>Reviewing Deadline</span>
                    <input type="datetime-local" class="w3-input w3-margin-bottom" v-model="reviewingDeadline" required>
                </label>
            </div>

            <!-- Conference Sections Details -->
            <h4>Conference Sections</h4>
            <table class="w3-table w3-striped w3-margin-left w3-margin-bottom" style="width: 98%;">
                <tr>
                    <th>Section Title</th>
                    <th>From:</th>
                    <th>To:</th>
                    <th></th>
                </tr>
                <tr v-for="section in sections" class="">
                    <td class="">{{section.title}}</td>
                    <td class="">{{new Date(section.start).toLocaleString()}}</td>
                    <td class="">{{new Date(section.end).toLocaleString()}}</td>
                    <td class="w3-red w3-button w3-margin-right" v-on:click="deleteSection(section.title)">Delete</td>
                </tr>
            </table>

            <div class="w3-margin-left">
                <div class="outer-border w3-margin-bottom">
                    <label>
                        <input id="section-name" type="text" placeholder="Enter Section Name" class="w3-input w3-padding-top"/>
                    </label>

                    <!-- Date Pickers Row -->
                    <div class="w3-cell-row">
                        <!-- Start Time for Section -->
                        <label class="w3-cell w3-padding w3-half">
                            <span class="">
                                Start Time:
                            </span>
                            <input id="section-start" type="datetime-local" class="w3-input w3-padding-top">
                        </label>

                        <!-- End Time for Section -->
                        <label class="w3-cell w3-padding w3-half">
                            <span class="">
                                End Time:
                            </span>
                            <input id="section-end" type="datetime-local" class="w3-input w3-padding-top">
                        </label>
                    </div>

                    <!-- Papers submitted to conference dropdown -->
                    <div class="w3-padding">
                        <label class="w3-bar">
                            <span class="">
                                Add papers to this section:
                            </span>
                            <select id="selected-proposal" class="w3-select" style="max-width:50% !important; width:auto;">
                                <option default value="yolo" style="font-style: italic">~No paper selected~</option>
                                <option v-for="proposal in proposals" :value="proposal.id">{{proposal.title}}</option>
                            </select>
                            <button v-on:click="addProposal()" type="button" class="w3-button w3-rest">Add</button>
                        </label>
                    </div>

                    <div class="w3-bar">
                        <!-- Selected Papers List -->
                        <div v-for="proposal in selectedProposals" class="w3-bar-item">
                            <p> <span class="w3-large">&#128462;</span> {{proposal.title}}</p>
                        </div>
                    </div>

                </div>
                <button type="button" class="w3-button w3-bar w3-border w3-large" v-on:click="addSection()">Add New Section</button>
            </div>


            <!-- Steering Committee Details -->
            <label>
                <span>Add steering committee member</span>
                <span class="w3-block">
                    <div v-for='(user, index) in steering_committee' :key='user' class="tag w3-tag w3-round-xxlarge">
                        <span @click='removeTag(index, steering_committee)' style="cursor: pointer">x</span>
                        {{user}}
                    </div>
                </span>

                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Username/Email" @keydown.enter='addTag($event, steering_committee)' @keydown.delete='removeLastTag($event, steering_committee)'>
            </label>

            <!-- Modal Footer -->
            <footer class="w3-container w3-footer w3-row">
                <button type="button" class="w3-button w3-half w3-large" onclick="document.getElementById('edit-conference-modal').style.display='none'">Cancel</button>
                <button type="button" class="w3-button w3-half w3-large" v-on:click="editConference">Save</button>
            </footer>
        </form>

    </div>
</div>

<!-- View Papers In Conference Modal -->
<div id="view-papers-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container presentation">
            <span onclick="hideModal('view-papers-modal')" class="cms-button w3-button w3-display-topright w3-round-large">&times;</span>
            <h1>Papers Submitted</h1>
        </header>

        <!-- Paper Panel Official -->
        <div v-for="proposal in proposals">
            <div class="w3-panel">
                <!-- Paper Name -->
                <div class="w3-container w3-block w3-row w3-border w3-hover-grey w3-round" style="cursor: pointer" v-on:click="openAccordionTab(proposal.id)">
                    <p class="w3-left w3-large w3-padding" style="width: 100%;">{{proposal.title}}<span class="icon material-icons w3-right md-24">expand_more</span></p>
                </div>
                <!-- Dropdown -->
                <div :id="'view-papers-section' + proposal.id" class="w3-row w3-hide">
                    <!-- TODO: make this not hardcoded -->
                    <button :class="['w3-button', 'w3-third', proposal.abstract? 'w3-enabled' : 'w3-disabled']"><a :href="'http://kind-wind-83282.pktriot.net'+proposal.abstract" target="_blank"><span class="icon material-icons md-18">save_alt</span> Download Abstract</a></button>
                    <button :class="['w3-button', 'w3-third', proposal.paper? 'w3-enabled' : 'w3-disabled']"><a :href="'http://kind-wind-83282.pktriot.net'+proposal.paper" target="_blank"><span class="icon material-icons md-18">save_alt</span> Download Paper</a></button>

                    <!-- Bid Button -->
                    <button v-if="isBiddingPhase()" class="w3-button w3-third" v-on:click="showPopup(proposal.id)">
                        <span class="icon material-icons md-18">rate_review</span>
                        Bid For Review
                    </button>

                    <!--View Reviewers Button-->
                    <button v-else class="w3-button w3-third" v-on:click="showReviewers(proposal)">
                        <span class="icon material-icons md-18">rate_review</span>
                        View Reviewers
                    </button>

                    <!--Bid Dropdown-->
                    <div :id="'bid-popup' + proposal.id" class="w3-hide w3-row">
                        <button  :class="['w3-button', 'w3-third', bidChoice(1, proposal.bids)? 'w3-green' : 'w3-white']" v-on:click="bid(proposal.id, 1)">ACCEPT</button>
                        <button  :class="['w3-button', 'w3-third', bidChoice(0, proposal.bids)? 'w3-green' : 'w3-white']" v-on:click="bid(proposal.id, 0)">DON'T CARE</button>
                        <button  :class="['w3-button', 'w3-third', bidChoice(-1, proposal.bids)? 'w3-green' : 'w3-white']" v-on:click="bid(proposal.id, -1)">REJECT</button>
                    </div>

                    <!--View Reviewers Dropdown-->
                    <div :id="'reviewers-popup' + proposal.id" class="w3-hide w3-row">
                        <label class="">
                            <span class="w3-col" style="width: auto">Reviewers assigned:</span>
                            <span class="w3-rest">
                                <div v-for='(tag, index) in proposal.assigned_reviewers' :key='tag' class="tag w3-tag w3-round-xxlarge">
                                    <span @click='removeTag(index, proposal.assigned_reviewers)'>x</span>
                                    {{ tag }}
                                </div>
                            </span>

                            <input type="text" class="w3-input w3-margin-bottom w3-col w3-right" style="width: 25%; margin-bottom: 0 !important" placeholder="Add Reviewers &plus;" @keydown.enter='addTag($event, proposal.assigned_reviewers)' @keydown.delete='removeLastTag($event, proposal.assigned_reviewers)'>
                            <button class="w3-button w3-right" v-on:click="saveReviewers(proposal)">
                                Save
                            </button>

                        </label>
                    </div>

                </div>

            </div>
        </div>
    </div>
</div>

<!-- Edit Proposal Modal -->
<div id="edit-proposal-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container presentation">
            <span onclick="document.getElementById('edit-proposal-modal').style.display='none'" class="cms-button w3-button w3-display-topright">&times;</span>
            <h1>Edit Proposal</h1>
        </header>

        <form class="w3-container w3-margin-top">
            <label>
                <span>Title</span>
                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Proposal Title" v-model="title" required>
            </label>

            <label>

                <span>Keywords</span>
                <span class="w3-block">
                    <div v-for='(tag, index) in keywords_list' :key='tag' class="tag w3-tag w3-round-xxlarge">
                        <span @click='removeTag(index, keywords_list)'>x</span>
                        {{ tag }}
                    </div>
                </span>

                <input type="text" class="w3-input w3-margin-bottom" @focus='hideDiv("EditProposalModal_Keywords_Div")' @blur='checkIfEmpty($event,"EditProposalModal_Keywords_Div")' placeholder="Enter Keywords" @keydown.enter='addTag($event, keywords_list)' @keydown.delete='removeLastTag($event, keywords_list)'>
                <!-- TODO: make this look better with css-->
                <div id="EditProposalModal_Keywords_Div" class="hidden">
                    <p>Please press enter to add</p>
                </div>
            </label>

            <label>
                <span>Topics</span>
                <span class="w3-block">
                    <div v-for='(tag, index) in topics_list' :key='tag' class="tag w3-tag w3-round-xxlarge">
                        <span @click='removeTag(index, topics_list)'>x</span>
                        {{ tag }}
                    </div>
                </span>

                <input type="text" class="w3-input w3-margin-bottom"@focus='hideDiv("EditProposalModal_Topics_Div")' @blur='checkIfEmpty($event,"EditProposalModal_Topics_Div")' placeholder="Enter Topics" @keydown.enter='addTag($event, topics_list)' @keydown.delete='removeLastTag($event, topics_list)'>
                <!-- TODO: make this look better with css -->
                <div id="EditProposalModal_Topics_Div" class="hidden">
                    <p>Please press enter to add</p>
                </div>
            </label>

            <label>
                <span>Co-authors (if any)</span>
                <span class="w3-block">
                    <div v-for='(tag, index) in authors_list' :key='tag' class="tag w3-tag w3-round-xxlarge">
                        <span @click='removeTag(index, authors_list)'>x</span>
                        {{ tag }}
                    </div>
                </span>

                <input type="text" class="w3-input w3-margin-bottom" placeholder="Enter Keywords" @keydown.enter='addTag($event, authors_list)' @keydown.delete='removeLastTag($event, authors_list)'>
            </label>

            <label>
                <span>Abstract</span>
                <input type="file" class="w3-input w3-margin-bottom" id="update-abstract" v-on:change="abstractUpload()" required>
            </label>

            <label>
                <span>Paper (PDF)</span>
                <input type="file" class="w3-input w3-margin-bottom" id="update-paper" v-on:change="paperUpload()" required>
            </label>
        </form>

        <footer class="w3-container w3-footer w3-row">
            <button type="button" class="w3-button w3-half w3-large" onclick="document.getElementById('edit-proposal-modal').style.display='none'">Cancel</button>
            <button type="button" class="w3-button w3-half w3-large" v-on:click="updateProposal()">Save</button>
        </footer>

    </div>
</div>

<!-- Review Proposal Modal -->
<div id="review-proposal-modal" class="w3-modal">
    <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container presentation">
            <span onclick="document.getElementById('review-proposal-modal').style.display='none'" class="cms-button w3-button w3-display-topright">&times;</span>
            <h1>Review Proposal</h1>
        </header>

        <h2 class="w3-padding">{{title}} - {{authors_list.join(',')}}</h2>

        <button :class="['w3-button', 'w3-half', abstract? 'w3-enabled' : 'w3-disabled']"><a :href="'http://kind-wind-83282.pktriot.net'+abstract" target="_blank"><span class="icon material-icons md-18">save_alt</span> Download Abstract</a></button>
        <button :class="['w3-button', 'w3-half', paper? 'w3-enabled' : 'w3-disabled']"><a :href="'http://kind-wind-83282.pktriot.net'+paper" target="_blank"><span class="icon material-icons md-18">save_alt</span> Download Paper</a></button>

        <form class="w3-container w3-margin-top">
            <label>
                <span>Review</span>
                <textarea class="w3-input w3-margin-bottom" placeholder="Write your review here" v-model="review" required>
                </textarea>
            </label>
            <div class="decision">
                <div class="caption agree">Accept</div>
                <div class="options">
                    <div class="option_container max w3-radio">
                        <input class="option " type="radio" name="choice" value="3">
                        <span class="option_checkmark agree max"></span>
                    </div>
                    <div class="option_container med w3-radio">
                        <input class="option" type="radio" name="choice" value="2">
                        <span class="option_checkmark agree med"></span>
                    </div>
                    <div class="option_container min w3-radio">
                        <input class="option" type="radio" name="choice" value="1">
                        <span class="option_checkmark agree min"></span>
                    </div>
                    <div class="option_container mini w3-radio">
                        <input class="option" type="radio" name="choice" value="0">
                        <span class="option_checkmark neutral mini"></span>
                    </div>
                    <div class="option_container min w3-radio">
                        <input class="option" type="radio" name="choice" value="-1">
                        <span class="option_checkmark disagree min"></span>
                    </div>
                    <div class="option_container med w3-radio">
                        <input class="option" type="radio" name="choice" value="-2">
                        <span class="option_checkmark disagree med"></span>
                    </div>
                    <div class="option_container max w3-radio">
                        <input class="option" type="radio" name="choice" value="-3">
                        <span class="option_checkmark disagree max"></span>
                    </div>
                </div>
                <div class="caption disagree">Reject</div>
            </div>
        </form>

        <footer class="w3-container w3-footer w3-row">
            <button type="button" class="w3-button w3-half" onclick="document.getElementById('review-proposal-modal').style.display='none'">Cancel</button>
            <button type="button" class="w3-button w3-half" v-on:click="reviewProposal()">Save Review</button>
        </footer>

    </div>
</div>


<!-- Show Reviews Modal -->
<div id="show-reviews-modal" class="w3-modal w3-margin-bottom">
    <div class="w3-modal-content w3-animate-top w3-card-4 w3-margin-bottom">
        <header class="w3-container presentation">
            <span onclick="document.getElementById('show-reviews-modal').style.display='none'" class="cms-button w3-button w3-display-topright">&times;</span>
            <h1>Reviews for {{title}}</h1>
        </header>


        <div v-for="review in reviews">
            <div class="w3-panel w3-block w3-light-gray">
                <h4 class="w3-margin-top">Review from: {{review.user.username}}</h4>
                <p class="w3-serif w3-large w3-margin-left"><i>{{review.review}}</i></p>

                <div class="w3-right w3-margin-right w3-margin-bottom">
                    <h4 class="w3-cell w3-padding">Qualifier:</h4>
                    <p class="w3-large w3-cell w3-padding">{{qualifierToString(review.qualifier)}}</p>
                </div>

            </div>
        </div>


        <footer class="w3-container w3-footer w3-row">
            <button type="button" class="w3-button w3-bar w3-margin-bottom w3-large" onclick="document.getElementById('show-reviews-modal').style.display='none'">Cancel</button>
            <!-- <button type="button" class="w3-button w3-half" v-on:click="reviewProposal()">Save Review</button> -->
        </footer>

    </div>
</div>


</body>
</html>
